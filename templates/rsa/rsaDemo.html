{% extends "base.html" %}
{% block content %}
{% load static %} 
<!-- Content wrapper -->
<div class="content-wrapper">
  <!-- Content -->

  <div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">
      <div class="col-lg-12 mb-4">
        <div class="card">
          <div class="d-flex align-items-end row">
            <div class="col-lg-12">
              <div class="card-body">
                <h2 class="card-title text-primary">Interactive RSA Algorithm Visualization</h2>
                <!-- Fullscreen Modal -->
<div class="mt-3">
  <button
    type="button"
    class="btn btn-icon rounded-pill btn-outline-dark"
    data-bs-toggle="modal"
    data-bs-target="#fullscreenModal"
  >
    <span class="tf-icons bx bx-notepad"></span>
  </button>

  <!-- Modal -->
  <div class="modal fade" id="fullscreenModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalFullTitle">RSA</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <h3>Overview</h3>
  <p>RSA is a widely used public-key cryptosystem named after its inventors Ron Rivest, Adi Shamir, and Leonard Adleman. It is based on the difficulty of factoring large composite numbers and is used for secure data transmission and digital signatures.</p>

  <h3>Key Generation</h3>
  <ol>
    <li>Choose two distinct prime numbers <span class="formula">p</span> and <span class="formula">q</span>.</li>
    <li>Compute <span class="formula">n = pq</span> (modulus).</li>
    <li>Calculate <span class="formula">φ(n) = (p-1)(q-1)</span> (Euler's totient function).</li>
    <li>Choose an integer <span class="formula">e</span> such that <span class="formula">1 < e < φ(n)</span> and <span class="formula">gcd(e, φ(n)) = 1</span> (public exponent).</li>
    <li>Determine <span class="formula">d</span> as <span class="formula">d ≡ e<sup>-1</sup> (mod φ(n))</span> (private exponent).</li>
    <li>Public key is <span class="formula">(n, e)</span> and private key is <span class="formula">(n, d)</span>.</li>
  </ol>

  <h3>Encryption</h3>
  <p>To encrypt a message <span class="formula">M</span> using the public key <span class="formula">(n, e)</span>:</p>
  <p><span class="formula">C ≡ M<sup>e</sup> (mod n)</span></p>

  <h3>Decryption</h3>
  <p>To decrypt a ciphertext <span class="formula">C</span> using the private key <span class="formula">(n, d)</span>:</p>
  <p><span class="formula">M ≡ C<sup>d</sup> (mod n)</span></p>

  <h3>Example</h3>
  <p>Let's generate RSA keys and encrypt/decrypt a message:</p>
  <ol>
    <li>Choose primes: <span class="formula">p = 3</span> and <span class="formula">q = 11</span></li>
    <li>Compute <span class="formula">n = pq = 3 × 11 = 33</span></li>
    <li>Compute <span class="formula">φ(n) = (p-1)(q-1) = 2 × 10 = 20</span></li>
    <li>Choose <span class="formula">e</span> coprime to 20, let <span class="formula">e = 7</span></li>
    <li>Compute <span class="formula">d</span> such that <span class="formula">d × e ≡ 1 (mod 20)</span>, <span class="formula">d = 3</span></li>
    <li>Public key is <span class="formula">(33, 7)</span> and private key is <span class="formula">(33, 3)</span></li>
    <li>Let the message <span class="formula">M = 2</span></li>
    <li>Encrypt: <span class="formula">C ≡ 2<sup>7</sup> ≡ 29 (mod 33)</span></li>
    <li>Decrypt: <span class="formula">M ≡ 29<sup>3</sup> ≡ 2 (mod 33)</span></li>
  </ol>
          
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-outline-dark"
            data-bs-dismiss="modal"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!--MODLE END HERE-->

                <br><br>

                <div class="card-body">
                    <div class="form-inline input-container">
                        <input class="form-control mb-2 mr-sm-2" type="text" id="message" placeholder="Enter message to encrypt:" />
                        <input class="form-control mb-2 mr-sm-2" type="text" id="p" placeholder="Enter prime number p" />
                        <input class="form-control mb-2 mr-sm-2" type="text" id="q" placeholder="Enter prime number q" />
                    </div>
                </div>

                <div class="card-body">
                  <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
                    <li class="nav-item">
                      <button
                        type="button"
                        class="nav-link active"
                        role="tab"
                        data-bs-toggle="tab"
                        data-bs-target="#navs-pills-justified-home"
                        aria-controls="navs-pills-justified-home"
                        aria-selected="true"
                        onclick="generateKeys()"
                      >
                        <i class="tf-icons bx bxs-key"></i> Generate Keys
                      </button>
                    </li>
                    <li class="nav-item">
                      <button
                        type="button"
                        class="nav-link"
                        role="tab"
                        data-bs-toggle="tab"
                        data-bs-target="#navs-pills-justified-profile"
                        aria-controls="navs-pills-justified-profile"
                        aria-selected="false"
                        onclick="encryptMessage()"
                      >
                        <i class="tf-icons bx bxs-lock"></i> Encrypt Message
                      </button>
                    </li>
                    <li class="nav-item">
                      <button
                        type="button"
                        class="nav-link"
                        role="tab"
                        data-bs-toggle="tab"
                        data-bs-target="#navs-pills-justified-messages"
                        {% comment %} aria-controls="navs-pills-justified-messages" {% endcomment %}
                        aria-selected="false"
                        onclick="decryptMessage()"
                      >
                        <i class="tf-icons bx bxs-lock-open"></i> Decrypt Message
                      </button>
                    </li>
                  </ul>
                  <div class="tab-content">
                    <div class="tab-pane fade show active" id="navs-pills-justified-home" id="keyGenOutput" role="tabpanel">
                      <div id="keyGenOutput" class="output-section"></div>
                    </div>
                    <div class="tab-pane fade" id="navs-pills-justified-profile" role="tabpanel">
                      <div id="encryptionOutput" class="output-section"></div>
                    </div>
                    <div class="tab-pane fade" id="navs-pills-justified-messages" role="tabpanel">
                      <div id="decryptionOutput" class="output-section"></div>
                    </div>
                  </div>
                    <div id="keyGenOutput" class="output-section"></div>
                    <div id="nedOutput" class="output-section"></div>
                    <div id="encryptionOutput" class="output-section"></div>
                    <div id="decryptionOutput" class="output-section"></div>
                </div>
                



              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / Content -->


<script src="{% static 'assets/js/rsa.js' %}"></script>

{% endblock %}